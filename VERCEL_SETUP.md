# Настройка Telegram бота на Vercel

## Шаг 1: Установите зависимости

Убедитесь, что `node-telegram-bot-api` установлен:

```bash
npm install
```

## Шаг 2: Настройте переменные окружения в Vercel

1. Откройте ваш проект на [Vercel Dashboard](https://vercel.com/dashboard)
2. Перейдите в **Settings** → **Environment Variables**
3. Добавьте следующие переменные:

### TELEGRAM_BOT_TOKEN
- **Value**: `8596256639:AAHsiabX_d5OSLpdiIhlU4kIAj9xmm7Fw10`
- **Environment**: Production, Preview, Development (выберите все)

### TELEGRAM_CHAT_ID
- **Value**: `1066715698` (ваш Chat ID)
- **Environment**: Production, Preview, Development (выберите все)

## Шаг 3: Перезапустите деплой

После добавления переменных окружения:

1. Перейдите в **Deployments**
2. Найдите последний деплой
3. Нажмите **Redeploy** (три точки → Redeploy)

Или сделайте новый коммит и пуш в репозиторий - Vercel автоматически задеплоит изменения.

## Шаг 4: Проверьте работу

1. Откройте ваш сайт на Vercel
2. Перейдите на страницу контактов
3. Заполните и отправьте форму
4. Проверьте Telegram - должно прийти уведомление

## Структура проекта

```
studio-of-design/
├── api/
│   └── submit-form.js    # Serverless функция для Vercel
├── server/               # Локальный сервер (для разработки)
│   └── index.js
└── src/
    └── pages/
        └── ContactPage.jsx
```

## Важно!

- **Для production** используется serverless функция в папке `api/`
- **Для локальной разработки** можно использовать сервер из папки `server/`
- Убедитесь, что вы написали боту `/start` в Telegram перед отправкой заявок

## Устранение проблем

### Ошибка "chat not found"
- Убедитесь, что вы написали боту команду `/start` в Telegram
- Проверьте, что Chat ID правильный

### Ошибка 500 при отправке формы
- Проверьте, что переменные окружения установлены в Vercel
- Убедитесь, что переменные доступны для всех окружений (Production, Preview, Development)
- Перезапустите деплой после добавления переменных

### Форма не отправляется
- Откройте консоль браузера (F12) и проверьте ошибки
- Убедитесь, что endpoint правильный: `/api/submit-form`
- Проверьте Network tab в DevTools для просмотра запросов

